(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4790:function(e,s,t){Promise.resolve().then(t.bind(t,8212))},8212:function(e,s,t){"use strict";t.r(s);var a=t(7437),n=t(2265),i=t(7818),l=t(2800);let d=(0,i.default)(()=>Promise.all([t.e(578),t.e(197)]).then(t.bind(t,3197)),{loadableGenerated:{webpack:()=>[3197]},ssr:!1}),r=(0,i.default)(()=>Promise.all([t.e(375),t.e(960),t.e(18),t.e(52)]).then(t.bind(t,6052)),{loadableGenerated:{webpack:()=>[6052]},ssr:!1}),c=(0,i.default)(()=>t.e(861).then(t.bind(t,861)),{loadableGenerated:{webpack:()=>[861]},ssr:!1});s.default=()=>{let[e,s]=(0,n.useState)(null),[t,i]=(0,n.useState)({}),[o,u]=(0,n.useState)({});(0,n.useEffect)(()=>{(async()=>{s(await (0,l.Gg)())})()},[]);let p=(0,n.useCallback)(e=>{"plan"===e.type?i(e.plan):"code"===e.type&&u(e.step_codes)},[]);return e?(0,a.jsxs)("div",{style:{display:"flex",height:"100vh"},children:[(0,a.jsxs)("div",{style:{flex:1,borderRight:"1px solid #ccc"},children:[(0,a.jsx)(d,{chatHistory:e.chat_history}),(0,a.jsx)(c,{sessionId:e.session_id,onMessage:p})]}),(0,a.jsx)("div",{style:{flex:2,padding:"10px"},children:(0,a.jsx)(r,{currentPlan:t,stepCodes:o})})]}):(0,a.jsx)("div",{children:"Loading..."})}},2800:function(e,s,t){"use strict";t.d(s,{Gg:function(){return u},MQ:function(){return o}});var a=t(8472),n=t(2649);let i="/api/sessions",l="session_id",d=e=>{n.Z.set(l,e,{expires:7})},r=()=>n.Z.get(l)||"",c=async()=>{let e=await a.Z.post(i);return d(e.data.session_id),e.data},o=async()=>{let e=r();return e||d(e=(await c()).session_id),e},u=async()=>{let e=await o();return(await a.Z.get("".concat(i,"/").concat(e))).data}}},function(e){e.O(0,[135,971,23,744],function(){return e(e.s=4790)}),_N_E=e.O()}]);