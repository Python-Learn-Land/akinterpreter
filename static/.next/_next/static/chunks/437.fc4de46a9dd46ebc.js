"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[437],{8437:function(e,t,l){l.r(t),l.d(t,{default:function(){return h}});var o=l(7437),n=l(2265),a=l(7270),r=e=>{let{initialJson:t,onJsonChange:l}=e,[r,i]=(0,n.useState)(JSON.stringify(t,null,2));return(0,n.useEffect)(()=>{i(JSON.stringify(t,null,2))},[t]),(0,o.jsx)(a.ZP,{height:"100%",defaultLanguage:"json",defaultValue:r,value:r,onChange:e=>{if(void 0!==e){i(e);try{let t=JSON.parse(e);l(t)}catch(e){console.error("Invalid JSON detected:",e)}}},theme:"vs-dark",options:{automaticLayout:!0,wordWrap:"on",formatOnType:!0}})},i=l(7900),s=l(3074),c=l(9565),u=e=>{let{value:t,onChange:l,language:n}=e;return(0,o.jsx)("div",{style:{height:"100%",width:"100%",overflow:"auto"},children:(0,o.jsx)(i.ZP,{value:t,height:"100%",extensions:[(0,s.Vs)()],theme:c.cL,onChange:e=>l(e),basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightSpecialChars:!0,foldGutter:!0,drawSelection:!0,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0,syntaxHighlighting:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,rectangularSelection:!0,crosshairCursor:!0,highlightActiveLine:!0,highlightSelectionMatches:!0,closeBracketsKeymap:!0,defaultKeymap:!0,searchKeymap:!0,historyKeymap:!0,foldKeymap:!0,completionKeymap:!0,lintKeymap:!0},style:{fontSize:"16px"}})})},h=e=>{let{currentPlan:t,stepCodes:l,onPlanUpdate:a,onCodeUpdate:i}=e,[s,c]=(0,n.useState)("plan"),[h,d]=(0,n.useState)(null),p=e=>{if("object"==typeof e&&null!==e)return e;try{let t=JSON.parse(e);if("object"==typeof t&&null!==t)return t}catch(e){console.error("Invalid JSON string provided, using empty object as fallback.",e)}return{}},g=(0,n.useMemo)(()=>p(t),[t]),y={padding:"10px 15px",cursor:"pointer",backgroundColor:"#2d3748",color:"#a0aec0",border:"none",borderRadius:"5px 5px 0 0",marginRight:"5px"},f={...y,backgroundColor:"#4299e1",color:"white"};return(0,o.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#2d3748"},children:[(0,o.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid #4a5568",padding:"10px"},children:[(0,o.jsx)("button",{style:"plan"===s?f:y,onClick:()=>c("plan"),children:"Plan"}),Object.keys(l).map((e,t)=>(0,o.jsxs)("button",{style:s===e?f:y,onClick:()=>c(e),children:["Step ",t+1]},e))]}),(0,o.jsxs)("div",{style:{height:"calc(100% - 50px)",overflowY:"auto",padding:"20px",backgroundColor:"#1a202c",color:"white"},children:[h&&(0,o.jsx)("div",{className:"error-message",children:h}),"plan"===s?(0,o.jsx)(r,{initialJson:g,onJsonChange:e=>{try{let t=p(e);a(t)}catch(e){d("Failed to update JSON. Please check the console for more details.")}}},JSON.stringify(g)):(0,o.jsx)(u,{value:l[s],onChange:e=>i(s,e),language:"python"})]})]})}}}]);