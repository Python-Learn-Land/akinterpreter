# CHANGELOG

## 2024年8月20日
- 昨晚调试策略的时候，发现策略会非常激进的买开，即便在下跌严重的情况下，也会因为技术指标指示上涨概率增大，而义无反顾的买开而导致持续亏损，今天已经修改了代码，增加了交易历史，LLM看到自己的交易历史产生持续亏损果然谨慎了非常多。长期效果需要进一步观测
- 修复了单合约期货策略，最大允许持仓=1的时候，开仓失败的bug。
- 修改了，AI推荐股票的代码，因为新增了很多评价选项，最后评选出来都是白马股，虽然今天行情确实下跌，但是AI喜欢白马股应该跟今天的行情无关，需要进一步优化选股的逻辑。
- 新增了ctp_llm_strategy.py 这个策略基于纯ctp,去simnow上注册一个用户就能开始模拟，非常的简单，没有其他任何依赖了。
- 今天读论文发现大模型的知识遮蔽的问题，就是当提示词中存在most popular的提示词，和less popular的提示词时，most popular的泛化会遮蔽less popular的内容。越大的模型越容易产生知识遮蔽。这个问题在我目前的代码中广泛存在，下一步优化分析流程，在不用微调的前提下克服大模型的知识遮蔽问题。

## 2024年8月26日
- 完全重构期货策略代码，新版本的更容易维护,而且支持多合约
- 重构AI推荐代码，新版本增加了正负因子，并且控制了负面因子的比例
- 新增AI筛选期货合约代码
- 修复旧的llm_dealer几处bug
- 新增ctp_futures_strategy.py 支持新的 base_futures_strategy.py